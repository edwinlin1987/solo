<div class="left" ng-controller='SideController as SideCtrl'>
  <div class='switch' ng-hide="user"> Welcome to JSRacing! Log in to keep track of your High Scores! </div>
  <div class='switch'> Recent Games </div>
  <ul class='switch' ng-show="user">
    <li>{{user.username}}</li>
    <li>Average: {{user.chars*12000/user.time | number:0}} words/minute</li>
    <li>Total Characters: {{user.chars}} </li>
    <li>Accuracy: {{ ((1-(user.mistakes/user.chars))*100) | number: 0}} %</li>
  </ul>
  <table>
    <tr>
      <th>WPM</th>
      <th>Username</th>
      <th>Function</th>
      <th>Mistakes</th>
    </tr>
    <tr ng-repeat="score in scores | filter: user.username | orderBy:'-created_at' | limitTo: 15">
      <td>{{score.wpm}}</td>
      <td>{{score.username}}</td>
      <td>{{score.function}}</td>
      <td>{{score.mistakes}}</td>
    </tr>
  </table>
</div>

<div class="container" ng-controller='GameController as GameCtrl'>
  <div class="game">
    <span ng-model='start' class='complete'>{{ start }}</span><!--
    --><span class='current'></span><!--
    --><span ng-model='end' class='incomplete'>{{ end }}</span>
  </div>
  <div id="container">
    <ul id="keyboard" class='clearfix'>
        <li class="192">` ~ </li>
        <li class="49">1 ! </li>
        <li class="50">2 @ </li>
        <li class="51">3 # </li>
        <li class="52">4 $ </li>
        <li class="53">5 % </li>
        <li class="54">6 ^ </li>
        <li class="55">7 &amp; </li>
        <li class="56">8 * </li>
        <li class="57">9 ( </li>
        <li class="48">0 ) </li>
        <li class="189">- _ </li>
        <li class="187">= + </li>
        <li class="delete lastitem 8">delete</li>
        <li class="tab">tab</li>
        <li class="81">q</li>
        <li class="87">w</li>
        <li class="69">e</li>
        <li class="letter">r</li>
        <li class="letter">t</li>
        <li class="letter">y</li>
        <li class="letter">u</li>
        <li class="letter">i</li>
        <li class="letter">o</li>
        <li class="letter">p</li>
        <li class="symbol">[ { </li>
        <li class="symbol">] } </li>
        <li class="symbol lastitem">\ | </li>
        <li class="capslock">caps lock</li>
        <li class="">a</li>
        <li class="letter">s</li>
        <li class="letter">d</li>
        <li class="letter">f</li>
        <li class="letter">g</li>
        <li class="letter">h</li>
        <li class="letter">j</li>
        <li class="letter">k</li>
        <li class="letter">l</li>
        <li class="symbol">; : </li>
        <li class="symbol">' &quot; </li>
        <li class="return lastitem">return</li>
        <li class="left-shift">shift</li>
        <li class="letter">z</li>
        <li class="letter">x</li>
        <li class="letter">c</li>
        <li class="letter">v</li>
        <li class="letter">b</li>
        <li class="letter">n</li>
        <li class="letter">m</li>
        <li class="symbol">, &lt; </li>
        <li class="symbol">. &gt; </li>
        <li class="symbol">/ ? </li>
        <li class="right-shift lastitem">shift</li>
        <li class="space lastitem">&nbsp;</li>
    </ul>
  </div>
  <div class='scoreboard'> Current Words per Minutes: {{ wpm }}</div>
  <div class='scoreboard'> Mistakes so far: {{ mistakes }}</div>
</div>

<div class="right" ng-controller='TopController as TopCtrl'>
  <div class='switch'>Top Scores</div>
  <table>
    <tr>
      <th>WPM</th>
      <th>Username</th>
      <th>Function</th>
      <th>Mistakes</th>
    </tr>
    <tr ng-repeat="score in scores | orderBy:'-wpm' | limitTo: 10">
      <td>{{score.wpm}}</td>
      <td>{{score.username}}</td>
      <td>{{score.function}}</td>
      <td>{{score.mistakes}}</td>
    </tr>
  </table>
  <div class='switch'>Scores by Function</div>
  <table>
    <tr>
      <th>WPM</th>
      <th>Username</th>
      <th>Function</th>
      <th>Mistakes</th>
    </tr>
    <tr ng-repeat="score in scores | orderBy:'wpm'">
      <td>{{score.wpm}}</td>
      <td>{{score.username}}</td>
      <td>{{score.function}}</td>
      <td>{{score.mistakes}}</td>
    </tr>
  </table>
</div>